<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title data-i18n="resources.title_imageMapLayer4326"></title>
    <link rel="stylesheet" href="./libs/leaflet.css">
    <script type="text/javascript" src="./libs/leaflet.js"></script>
    <script type="text/javascript" src="./libs/iclient9-leaflet.min.js"></script>
</head>
<body style=" margin: 0;overflow: hidden;background: #fff;width: 100%;height:100%;position: absolute;top: 0;">
<div id="map" style="margin:0 auto;width: 100%;height: 100%"></div>
<script type="text/javascript">

    Proj4js.defs("EPSG:2364","+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs");
    L.bounds
	var crs = L.Proj.CRS("EPSG:2364", {
        // 投影范围的左上角点
		origin: [40347872.18,2703741.00],
		scaleDenominators: [500000,250000,130000,70000,40000,20000,10000,5000,3000,2000],	
        // iclent说设bounds可能会有bug，设origin保险一些
        // bounds:[[40347872.18,2703741.00],[40599933.10,5912397.96]]
	});

    var host = window.isLocal ? window.server : "http://localhost:8010";
    var url = host + "",
        map = L.map('map', {
            crs: crs,
            center: crs.unproject(L.point(40436574.996251,2829552.16843596)),
            maxZoom: 10,
            minZoom: 0,
            zoom: 1,
        });
    L.supermap.imageMapLayer(url).addTo(map);
</script>
</body>
</html>